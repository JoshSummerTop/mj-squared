<%# Reusable post card component %>
<%= link_to post_path(post), class: "block" do %>
  <div class="post-card-enhanced animate-fade-in bg-[rgba(189,214,69,0.2)] rounded-2xl p-4 border border-[#5CCBD4] hover:bg-[rgba(189,214,69,0.3)] hover:shadow-md transition-all duration-200 cursor-pointer">
    <div class="flex items-start gap-3">
      <!-- User Avatar -->
      <div class="flex-shrink-0">
        <%= user_avatar_tag(post.created_by, size: 40, css_class: "w-10 h-10 rounded-full object-cover") %>
      </div>
      
      <!-- Post Content -->
      <div class="flex-1 min-w-0">
        <!-- Header with name and timestamp -->
        <div class="flex items-center justify-between mb-2">
          <h4 class="font-semibold text-gray-900 text-sm">
            <%= post.created_by.name %>
          </h4>
          <span class="text-xs text-gray-500 flex-shrink-0">
            <%= time_ago_in_words(post.created_at) %> ago
          </span>
        </div>
        
        <!-- Post Content -->
        <p class="text-sm text-gray-700 mb-3 leading-relaxed">
          <span class="font-medium text-gray-900"><%= post.title %></span>
          <% if post.content.present? %>
            <br><%= truncate(strip_tags(post.content), length: 150) %>
          <% end %>
        </p>

        <!-- Stats -->
        <div class="flex items-center gap-4 text-xs text-gray-500">
          <div class="flex items-center gap-1">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
            </svg>
            <%= post.likes.count %>
          </div>
          <div class="flex items-center gap-1">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
            </svg>
            <%= post.comments.count %>
          </div>
        </div>
      </div>
    </div>
  </div>
<% end %>
